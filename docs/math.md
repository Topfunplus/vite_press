



**假设检验**是一种在统计学中用来**做决策**的方法，简单来说就是通过数据来判断某个说法是否有道理。

我们可以用一个日常例子来解释：

### 场景：

假设你认为你最喜欢的咖啡店的咖啡每杯都有 200 毫升（这是咖啡店的“ **标称量** ”）。但是有一天，你喝了一杯觉得好像少了，于是你决定做个 **测试** ，看看他们的咖啡是不是真的总是有 200 毫升。

### 假设检验步骤：

1. **提出假设** ：

* **原假设（H₀）** ：咖啡店的每杯咖啡确实有 200 毫升。
* **备择假设（H₁）** ：咖啡店的每杯咖啡少于 200 毫升。

1. **收集数据** ：
   你每天去买咖啡，并测量出几杯咖啡的实际容量，比如 198 毫升、199 毫升、201 毫升等等。
2. **进行计算** ：
   你拿这些数据和“200 毫升”对比，看看这些数据是不是和 200 毫升差太多了。统计学家通常用一些数学工具来帮你判断这种差异是否显著。
3. **做出决定** ：

* 如果这些数据和 200 毫升非常接近，差得不多，你就可以说：“这些杯子大致都是 200 毫升。” 这意味着 **接受原假设** ，认为咖啡店没有问题。
* 如果数据显示很多杯的咖啡都明显少于 200 毫升，你就可以说：“这家咖啡店的咖啡量确实比 200 毫升少。” 这意味着你 **拒绝原假设** ，采信备择假设，认为咖啡店给的量少了。

### 结论：

假设检验的核心是： **通过数据来判断原来的说法（假设）是否站得住脚** 。如果数据支持这个说法，就接受它；如果不支持，就拒绝它。





假设检验的步骤可以分为以下几个清晰的步骤，用来判断数据是否支持某个假设（通常称为 **原假设** ）。这里是通俗易懂的解释：

### 1. **提出假设**

* **原假设（H₀）** ：这是你要检验的“默认”说法，通常表示“没有差异”或“没有显著效果”。你希望通过数据来检验它是否成立。
* **备择假设（H₁ 或 Hₐ）** ：这是与原假设相对立的说法，通常表示“有差异”或“有显著效果”。

 **例子** ：你认为咖啡店的咖啡量是200毫升。

* 原假设 H0H₀**H**0：每杯咖啡的平均量为 200 毫升。
* 备择假设 H1H₁**H**1：每杯咖啡的平均量**不是**200毫升（可以是更少或更多）。

### 2. **选择显著性水平（α\alpha**α**）**

显著性水平决定了你允许犯错的概率，通常选择  **α=0.05\alpha = 0.05**α**=**0.05**** ，即你愿意承受5%的概率来误判。

* **常见的 α\alpha**α** 值** ：0.05（5%），0.01（1%）。

### 3. **收集数据**

从你关心的群体中 **收集样本** ，并测量出相关的统计数据。样本数据用来帮助判断原假设是否成立。

 **例子** ：你随机购买了几杯咖啡，测量了它们的容量，比如分别是：198 毫升、201 毫升、199 毫升……

### 4. **选择检验方法**

根据你要检验的问题和数据的类型，选择合适的 **假设检验方法** 。常见的检验方法包括：

* **t 检验** ：用于小样本的均值比较。
* **z 检验** ：用于大样本的均值比较。
* **卡方检验** ：用于频率数据的独立性或拟合优度检验。

 **例子** ：如果你想比较样本均值和200毫升的差异，且样本量小，可以选择 **t 检验** 。

### 5. **计算检验统计量**

通过你选择的检验方法，计算一个 **检验统计量** （如 t 值或 z 值），并根据这个统计量决定是否拒绝原假设。

 **例子** ：你通过 t 检验计算出一个 t 值，比如 t = 2.3。

### 6. **计算或查找临界值或 p 值**

* **p 值** ：这是你实际观察到的数据和原假设相符的概率。如果 p 值小于显著性水平 α\alpha**α**，我们认为观察到的结果不太可能发生，因此 **拒绝原假设** 。
* **临界值法** ：可以查表找到检验的临界值（比如 t 表或 z 表），如果计算出的检验统计量超过临界值，拒绝原假设。

 **例子** ：你计算出 p 值为 0.02。因为 p=0.02<α=0.05p = 0.02 < \alpha = 0.05**p**=**0.02**<**α**=**0.05**，所以你拒绝原假设。

### 7. **做出结论**

* 如果 **p 值小于显著性水平 α\alpha**α**** ，我们 **拒绝原假设** ，认为数据提供了足够的证据表明原假设不成立。
* 如果 **p 值大于显著性水平 α\alpha**α**** ，我们 **接受原假设** ，认为数据不足以推翻原假设。

 **例子** ：你拒绝原假设，得出结论：咖啡店的咖啡量不是200毫升，可能偏离了这一数值。

---

### 总结假设检验的七个步骤：

1. 提出原假设 H0H₀**H**0 和备择假设 H1H₁**H**1。
2. 选择显著性水平 α\alpha**α**。
3. 收集样本数据。
4. 选择适当的检验方法。
5. 计算检验统计量。
6. 计算或查找 p 值或临界值。
7. 根据 p 值做出结论，决定是否拒绝原假设。

通过这七个步骤，你可以判断一个数据是否支持你的原假设



在假设检验中，选择合适的检验方法取决于数据的类型、样本量、变量的分布以及你想要检验的假设。常见的假设检验方法有以下几种：

### 1. **t 检验（t-test）**

用于比较均值的检验，特别是当样本量较小（通常小于 30）且总体方差未知时使用。

#### 常见的 t 检验类型：

* **单样本 t 检验** ：用于检验样本均值是否与给定的总体均值有显著差异。
* **独立样本 t 检验** ：用于检验两个独立样本的均值是否显著不同。
* **配对样本 t 检验** ：用于检验配对样本（如同一组人的前后测量）的均值是否显著不同。

#### 计算过程：

 **单样本 t 检验为例** ：

* **假设** ：H0H_0**H**0（原假设）：样本均值等于总体均值。
* **公式** ：
  t=xˉ−μs/nt = \frac{\bar{x} - \mu}{s / \sqrt{n}}**t**=**s**/**n****x**ˉ**−**μ****
* xˉ\bar{x}**x**ˉ 是样本均值。
* μ\mu**μ** 是总体假设的均值。
* ss**s** 是样本标准差。
* nn**n** 是样本数量。
* **步骤** ：

1. 提出原假设 H0H_0**H**0 和备择假设 H1H_1**H**1。
2. 计算样本均值 xˉ\bar{x}**x**ˉ 和标准差 ss**s**。
3. 计算 t 统计量。
4. 查 t 分布表，使用自由度 df=n−1df = n - 1**df**=**n**−**1** 找到临界值，或计算 p 值。
5. 比较 p 值与显著性水平 α\alpha**α**，决定是否拒绝原假设。

#### 例子：

假设你想检验一个样本平均值 xˉ=50\bar{x} = 50**x**ˉ**=**50 是否显著不同于总体均值 μ=52\mu = 52**μ**=**52**，样本标准差 s=5s = 5**s**=**5**，样本数量 n=10n = 10**n**=**10**。

t=50−525/10=−1.264t = \frac{50 - 52}{5 / \sqrt{10}} = -1.264**t**=**5/**10****50**−**52****=**−**1.264查表或计算 p 值，决定是否拒绝 H0H_0**H**0****。

---

### 2. **z 检验（z-test）**

用于比较均值的检验，当样本量较大（通常大于 30）或总体方差已知时使用。

#### 计算过程：

* **假设** ：H0H_0**H**0（原假设）：样本均值等于总体均值。
* **公式** ：
  z=xˉ−μσ/nz = \frac{\bar{x} - \mu}{\sigma / \sqrt{n}}**z**=**σ**/**n****x**ˉ**−**μ****
* xˉ\bar{x}**x**ˉ 是样本均值。
* μ\mu**μ** 是总体假设的均值。
* σ\sigma**σ** 是总体标准差（已知）。
* nn**n** 是样本数量。

#### 例子：

假设你想检验某产品的平均重量 μ=100g\mu = 100g**μ**=**100**g，有一组样本平均值为 xˉ=98g\bar{x} = 98g**x**ˉ**=**98**g**，样本量 n=40n = 40**n**=**40**，已知总体标准差 σ=3g\sigma = 3g**σ**=**3**g。

z=98−1003/40=−4.22z = \frac{98 - 100}{3 / \sqrt{40}} = -4.22**z**=**3/**40****98**−**100****=**−**4.22查 z 分布表或计算 p 值，判断是否拒绝原假设。

---

### 3. **卡方检验（Chi-Square Test）**

用于 **分类数据** ，主要用于检验观察数据是否与期望数据一致（拟合优度检验），或者用于两个分类变量之间的 **独立性检验** 。

#### 计算过程：

* **假设** ：H0H_0**H**0（原假设）：观测频率与期望频率没有显著差异。
* **公式** ：
  χ2=∑(Oi−Ei)2Ei\chi^2 = \sum \frac{(O_i - E_i)^2}{E_i}**χ**2**=**∑**E**i****(**O**i−**E**i)**2**
* OiO_i**O**i 是观测频率。
* EiE_i**E**i 是期望频率。

#### 例子：

假设你想检验某商店顾客的性别分布是否符合总体分布（50%男性，50%女性）。你观察到 60 个男性和 40 个女性，而期望是 50 男性、50 女性。计算卡方值：

χ2=(60−50)250+(40−50)250=4\chi^2 = \frac{(60 - 50)^2}{50} + \frac{(40 - 50)^2}{50} = 4**χ**2**=**50**(**60**−**50**)**2****+**50**(**40**−**50**)**2****=**4查卡方分布表，使用自由度 1 和显著性水平 α=0.05\alpha = 0.05**α**=**0.05**，临界值为 3.84，因 4>3.844 > 3.84**4**>**3.84**，我们拒绝原假设，认为性别分布与预期不同。



为了为企业设计最优的抽样检测方案，我们可以运用**统计学中的假设检验**方法，具体来说是使用**二项分布**进行检验。以下是详细的步骤和计算方法：

### 问题 1: 设计检测方案

企业希望根据供应商声称的零配件次品率来进行抽样检测。假设供应商声称的次品率（即标称值）为 \( p_0 = 0.10 \)。

我们需要确定在以下两种情境下的抽样检测方案：

1. **在 95%的信度下认定零配件次品率超过标称值，则拒收这批零配件。**
2. **在 90%的信度下认定零配件次品率不超过标称值，则接收这批零配件。**

### 方法概述

1. **设定假设**：

   - **零假设（\( H_0 \)）**: 次品率 \( p \le 0.10 \)
   - **备择假设（\( H_1 \)）**: 次品率 \( p > 0.10 \)
2. **确定抽样方案**：

   - 设定样本容量 \( n \) 和最大允许的次品数 \( k \)。
   - 计算在给定的显著性水平和信度下，这个方案能否满足要求。

### 1. 在 95%的信度下认定次品率超过标称值

- **目标**：在 95% 的信度下，如果次品率确实超过 10%，我们希望能检测到这一点并拒绝该批次。
- **显著性水平**：\(\alpha = 0.05\)。
- **样本容量**：计算样本容量 \( n \) 和容许的次品数 \( k \) 使得在次品率超过 10% 的情况下，拒绝 \( H_0 \) 的概率达到 95%。

#### 计算步骤：

1. **确定容许的最大次品数 \( k \)**：

   - 在 95% 信度下，计算使得次品率 \( p = 0.10 \) 时，容许的最大次品数 \( k \) 可以使用二项分布的临界值。我们可以使用统计软件或表格来找出。

   使用 **R** 代码计算：

   ```R
   qbinom(0.95, size=n, prob=0.10)
   ```

   使用 **Python** 代码计算：

   ```python
   from scipy.stats import binom

   # 计算容许的最大次品数
   n = 100  # 假设样本容量为100
   k = binom.ppf(0.95, n, 0.10)
   print(f"允许的最大次品数 k: {k}")
   ```
2. **计算样本容量 \( n \)**：

   - 确定样本容量 \( n \) 使得在 \( p = 0.10 \) 时，\( P(X \le k) \) 的概率大于 95%。
   - 这可以通过调整 \( n \) 并计算 \( k \) 的值来进行。

   使用 **R** 代码计算：

   ```R
   n = 20  # 示例
   k = qbinom(0.95, size=n, prob=0.10)
   ```

   使用 **Python** 代码计算：

   ```python
   from scipy.stats import binom

   n = 20  # 示例
   k = binom.ppf(0.95, n, 0.10)
   print(f"允许的最大次品数 k: {k}")
   ```

   **示例结果**（假设样本容量为 20）：

   - \( k = 3 \)（即如果在20个样本中发现超过3个次品，则拒收）。

### 2. 在 90%的信度下认定次品率不超过标称值

- **目标**：在 90% 的信度下，如果次品率不超过 10%，我们希望能检测到并接收该批次。
- **显著性水平**：\(\alpha = 0.10\)。
- **样本容量**：计算样本容量 \( n \) 和最大次品数 \( k \) 使得在次品率不超过 10% 的情况下，接受 \( H_0 \) 的概率达到 90%。

#### 计算步骤：

1. **确定最大次品数 \( k \)**：

   - 在 90% 信度下，计算使得次品率 \( p = 0.10 \) 时，最大允许的次品数 \( k \) 可以使用二项分布的临界值。

   使用 **R** 代码计算：

   ```R
   qbinom(0.90, size=n, prob=0.10)
   ```

   使用 **Python** 代码计算：

   ```python
   from scipy.stats import binom

   # 计算容许的最大次品数
   n = 100  # 假设样本容量为100
   k = binom.ppf(0.90, n, 0.10)
   print(f"允许的最大次品数 k: {k}")
   ```
2. **计算样本容量 \( n \)**：

   - 确定样本容量 \( n \) 使得在 \( p = 0.10 \) 时，\( P(X \le k) \) 的概率大于 90%。
   - 这可以通过调整 \( n \) 并计算 \( k \) 的值来进行。

   使用 **R** 代码计算：

   ```R
   n = 20  # 示例
   k = qbinom(0.90, size=n, prob=0.10)
   ```

   使用 **Python** 代码计算：

   ```python
   from scipy.stats import binom

   n = 20  # 示例
   k = binom.ppf(0.90, n, 0.10)
   print(f"允许的最大次品数 k: {k}")
   ```

   **示例结果**（假设样本容量为 20）：

   - \( k = 1 \)（即如果在20个样本中发现超过1个次品，则不接收）。

### 总结

1. **95%信度下拒收方案**：

   - 选择合适的样本容量 \( n \) 和最大次品数 \( k \)，例如：样本容量为 20，最大次品数 \( k = 3 \)。
2. **90%信度下接收方案**：

   - 选择合适的样本容量 \( n \) 和最大次品数 \( k \)，例如：样本容量为 20，最大次品数 \( k = 1 \)。

具体的样本容量和最大次品数 \( k \) 会根据实际应用中选择的 \( n \) 和所需的准确度而有所不同。上述示例仅供参考，实际计算应使用适当的统计工具进行精确计算。
